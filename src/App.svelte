<script>
  let numbers = [10, 25, 33, 62, 75, 100];
  // binding: atar una variable a algo visual
  function adjustRGB(x) {
    var red = x > 25 ? Math.min(Number(x * (230 / 75)), 255) : 0;
    var green =
      x > 25
        ? Number(191 - (116 / 75) * (x - 25))
        : Math.min(Number(191 + x * (116 / 75)), 255);
    var blue =
      x > 25
        ? Math.min(Number(232 - (x - 25) * 2.5), 0)
        : Math.min(Number(232 + x * 2.5), 255);

    return [red, green, blue];
  }

  function adjustHeight(x) {
    return Math.min(13 + Number(x * (16 / 25)), 73);
  }
</script>

<main>
  <div class="header-container">
    <h1>Pronóstico de la semana</h1>
  </div>

  <div class="column-container">
    {#each numbers as n}
      <div class="col-wrapper">
        <div>
          {#if n < 50}
            <svg
              width="126"
              height="190.5"
              viewBox="0 0 84 127"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M53.9235 41.302L61.4863 36.836V31.864L57.7486 28.102L60.8525 25L63.6721 27.838L66.4918 25L69.5956 28.102L65.8579 31.864V36.836L71.3224 40.004L75.694 37.518L76.9617 32.392L81.1585 33.536L80.1311 37.43L84 38.464L82.8634 42.71L77.7705 41.346L73.3989 43.832V50.19L77.7705 52.676L82.8634 51.312L84 55.558L80.1311 56.592L81.1585 60.464L76.9399 61.608L75.5847 56.482L71.2131 53.996L65.8579 57.164V62.136L69.5956 65.898L66.4918 69L63.6721 66.162L60.8525 69L57.7705 65.898L61.4863 62.136V57.164L53.9235 52.742M69.1366 43.832L63.6721 40.642L58.2076 43.832V50.168L63.6721 53.358L69.1366 50.168M48.3716 49.2V36H44V49.2H48.3716ZM48.3716 58V53.6H44V58H48.3716Z"
                fill="rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
                  n
                )[2]})"
              />
              <path
                d="M29.8786 122.5C24.1942 122.506 18.6347 120.833 13.8981 117.69C9.16148 114.548 5.45897 110.076 3.25548 104.836C1.05199 99.5959 0.445754 93.8218 1.5129 88.2385C2.58004 82.6552 5.27299 77.5117 9.25359 73.4538V27.625C9.25359 22.1549 11.4266 16.9089 15.2945 13.0409C19.1625 9.17298 24.4085 7 29.8786 7C35.3487 7 40.5947 9.17298 44.4627 13.0409C48.3306 16.9089 50.5036 22.1549 50.5036 27.625V73.4538C54.4842 77.5117 57.1771 82.6552 58.2443 88.2385C59.3114 93.8218 58.7052 99.5959 56.5017 104.836C54.2982 110.076 50.5957 114.548 45.8591 117.69C41.1225 120.833 35.5629 122.506 29.8786 122.5ZM29.8786 15.25C26.5975 15.2533 23.4518 16.5581 21.1318 18.8782C18.8117 21.1982 17.5069 24.344 17.5036 27.625V77.0549L16.1341 78.2882C13.0192 81.0723 10.8232 84.7366 9.83678 88.7962C8.85034 92.8557 9.11997 97.1192 10.61 101.022C12.1 104.925 14.7401 108.284 18.1809 110.653C21.6217 113.022 25.7009 114.291 29.8786 114.291C34.0563 114.291 38.1355 113.022 41.5763 110.653C45.0171 108.284 47.6572 104.925 49.1472 101.022C50.6372 97.1192 50.9068 92.8557 49.9204 88.7962C48.934 84.7366 46.738 81.0723 43.6231 78.2882L42.2536 77.0549V27.625C42.2503 24.344 40.9455 21.1982 38.6254 18.8782C36.3054 16.5581 33.1596 15.2533 29.8786 15.25Z"
                fill="lightsteelblue"
              />
              <circle
                cx="29.7534"
                cy="93.75"
                r="13"
                fill="rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
                  n
                )[2]})"
              />
              <rect
                style="transform:scaleY(-1)"
                x="23.7534"
                y="-93.75"
                width="12"
                height={adjustHeight(n)}
                rx="6"
                fill="rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
                  n
                )[2]})"
              />
            </svg>
          {:else}
            <svg
              width="126"
              height="190.5"
              viewBox="0 0 79 127"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M54.7176 69H58.7647V61H54.7176V69ZM65.3412 58.3L71.0576 64L73.8906 61.15L68.1741 55.5L65.3412 58.3ZM44.0941 59C44.0941 59.7 44.339 60.2913 44.8287 60.774C45.3184 61.2567 45.9166 61.4987 46.6235 61.5C47.3318 61.5 47.9307 61.258 48.4204 60.774C48.9101 60.29 49.1543 59.6987 49.1529 59C49.1529 58.3 48.9081 57.708 48.4184 57.224C47.9287 56.74 47.3304 56.4987 46.6235 56.5C45.9153 56.5 45.3163 56.742 44.8266 57.226C44.3369 57.71 44.0928 58.3013 44.0941 59ZM54.7176 57H56.7412C59.5404 57 61.9261 56.0247 63.8984 54.074C65.8707 52.1233 66.8575 49.7653 66.8588 47C66.8588 44.2333 65.872 41.8747 63.8984 39.924C61.9248 37.9733 59.539 36.9987 56.7412 37H54.7176V41H56.7412C58.4275 41 59.8608 41.5833 61.0412 42.75C62.2216 43.9167 62.8118 45.3333 62.8118 47C62.8118 48.6667 62.2216 50.0833 61.0412 51.25C59.8608 52.4167 58.4275 53 56.7412 53H54.7176V57ZM36 53C36 53.7 36.2449 54.292 36.7346 54.776C37.2242 55.26 37.8225 55.5013 38.5294 55.5C39.2377 55.5 39.8366 55.258 40.3263 54.774C40.816 54.29 41.0602 53.6987 41.0588 53C41.0588 52.3 40.814 51.708 40.3243 51.224C39.8346 50.74 39.2363 50.4987 38.5294 50.5C37.8212 50.5 37.2222 50.742 36.7325 51.226C36.2428 51.71 35.9987 52.3013 36 53ZM44.0941 47C44.0941 47.7 44.339 48.292 44.8287 48.776C45.3184 49.26 45.9166 49.5013 46.6235 49.5C47.3318 49.5 47.9307 49.258 48.4204 48.774C48.9101 48.29 49.1543 47.6987 49.1529 47C49.1529 46.3 48.9081 45.708 48.4184 45.224C47.9287 44.74 47.3304 44.4987 46.6235 44.5C45.9153 44.5 45.3163 44.742 44.8266 45.226C44.3369 45.71 44.0928 46.3013 44.0941 47ZM70.9059 49H79V45H70.9059V49ZM36 41C36 41.7 36.2449 42.292 36.7346 42.776C37.2242 43.26 37.8225 43.5013 38.5294 43.5C39.2377 43.5 39.8366 43.258 40.3263 42.774C40.816 42.29 41.0602 41.6987 41.0588 41C41.0588 40.3 40.814 39.708 40.3243 39.224C39.8346 38.74 39.2363 38.4987 38.5294 38.5C37.8212 38.5 37.2222 38.742 36.7325 39.226C36.2428 39.71 35.9987 40.3013 36 41ZM65.3412 35.7L68.1741 38.55L73.8906 32.85L71.0576 30.05L65.3412 35.7ZM44.0941 35C44.0941 35.7 44.339 36.292 44.8287 36.776C45.3184 37.26 45.9166 37.5013 46.6235 37.5C47.3318 37.5 47.9307 37.258 48.4204 36.774C48.9101 36.29 49.1543 35.6987 49.1529 35C49.1529 34.3 48.9081 33.708 48.4184 33.224C47.9287 32.74 47.3304 32.4987 46.6235 32.5C45.9153 32.5 45.3163 32.742 44.8266 33.226C44.3369 33.71 44.0928 34.3013 44.0941 35ZM54.7176 33H58.7647V25H54.7176V33Z"
                fill="rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
                  n
                )[2]})"
              />
              <path
                d="M29.8786 122.5C24.1942 122.506 18.6347 120.833 13.8981 117.69C9.16148 114.548 5.45897 110.076 3.25548 104.836C1.05199 99.5959 0.445754 93.8218 1.5129 88.2385C2.58004 82.6552 5.27299 77.5117 9.25359 73.4538V27.625C9.25359 22.1549 11.4266 16.9089 15.2945 13.0409C19.1625 9.17298 24.4085 7 29.8786 7C35.3487 7 40.5947 9.17298 44.4627 13.0409C48.3306 16.9089 50.5036 22.1549 50.5036 27.625V73.4538C54.4842 77.5117 57.1771 82.6552 58.2443 88.2385C59.3114 93.8218 58.7052 99.5959 56.5017 104.836C54.2982 110.076 50.5957 114.548 45.8591 117.69C41.1225 120.833 35.5629 122.506 29.8786 122.5ZM29.8786 15.25C26.5975 15.2533 23.4518 16.5581 21.1318 18.8782C18.8117 21.1982 17.5069 24.344 17.5036 27.625V77.0549L16.1341 78.2882C13.0192 81.0723 10.8232 84.7366 9.83678 88.7962C8.85034 92.8557 9.11997 97.1192 10.61 101.022C12.1 104.925 14.7401 108.284 18.1809 110.653C21.6217 113.022 25.7009 114.291 29.8786 114.291C34.0563 114.291 38.1355 113.022 41.5763 110.653C45.0171 108.284 47.6572 104.925 49.1472 101.022C50.6372 97.1192 50.9068 92.8557 49.9204 88.7962C48.934 84.7366 46.738 81.0723 43.6231 78.2882L42.2536 77.0549V27.625C42.2503 24.344 40.9455 21.1982 38.6254 18.8782C36.3054 16.5581 33.1596 15.2533 29.8786 15.25Z"
                fill="lightsteelblue"
              />
              <circle
                cx="29.7534"
                cy="93.75"
                r="13"
                fill="rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
                  n
                )[2]})"
              />
              <rect
                style="transform:scaleY(-1)"
                x="23.7534"
                y="-93.75"
                width="12"
                height={adjustHeight(n)}
                rx="6"
                fill="rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
                  n
                )[2]})"
              />
              <path d="M36 34H41.5V61H36V34Z" fill="whitesmoke" />
            </svg>
          {/if}
        </div>
        <p
          style="color: rgb({adjustRGB(n)[0]}, {adjustRGB(n)[1]},{adjustRGB(
            n
          )[2]})"
        >
          {n} °F
        </p>
      </div>
    {/each}
  </div>
</main>

<style>
  :global(body) {
    background-color: whitesmoke;
  }
  .header-container {
    margin-top: 100px;
    margin-bottom: 50px;
    top: 0;
    left: 0;
    width: 100%;
  }
  h1 {
    color: lightsteelblue;
    font-family: "Open Sans Condensed", sans-serif;
    font-size: 64px;
    font-weight: 700;
    text-transform: uppercase;
    text-align: center;
  }
  p {
    font-size: 25px;
    font-weight: 500;
    text-align: justify;
    padding-left: 19px;
  }
  .column-container {
    display: flex;
    flex-direction: row;
    align-items: flex-end;
    margin-left: 220px;
  }
  .col-wrapper {
    position: relative;
    width: 175px;
  }
</style>
